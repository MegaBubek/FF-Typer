<!DOCTYPE html><html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FF-Typer</title>
  <style>
    body {
      background-color: #0f172a;
      color: white;
      font-family: sans-serif;
      padding: 20px;
      text-align: center;
    }
    .form {
      background-color: #1e293b;
      padding: 20px;
      border-radius: 12px;
      max-width: 400px;
      margin: 20px auto;
    }
    input, select, button {
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      border: none;
      border-radius: 8px;
    }
    input[type="password"] {
      font-family: sans-serif;
    }
    .row {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <h1>FF-Typer</h1>
  <div id="auth">
    <div id="register" class="form">
      <h2>Rejestracja</h2>
      <input type="text" id="regNick" placeholder="Nick" required />
      <select id="regPlatform">
        <option value="YouTube">YouTube</option>
        <option value="Instagram">Instagram</option>
        <option value="TikTok">TikTok</option>
      </select>
      <input type="email" id="regEmail" placeholder="Email" required />
      <input type="password" id="regPassword" placeholder="Hasło" required />
      <label>
        <input type="checkbox" id="showPasswordReg"> Pokaż hasło
      </label>
      <button onclick="register()">Zarejestruj się</button>
      <p>Masz już konto? <a href="#" onclick="toggleForm()">Zaloguj się</a></p>
    </div><div id="login" class="form hidden">
  <h2>Logowanie</h2>
  <input type="text" id="logNick" placeholder="Nick" required />
  <input type="password" id="logPassword" placeholder="Hasło" required />
  <label>
    <input type="checkbox" id="showPasswordLogin"> Pokaż hasło
  </label>
  <button onclick="login()">Zaloguj się</button>
  <p>Nie masz konta? <a href="#" onclick="toggleForm()">Zarejestruj się</a></p>
</div>

  </div>  <div id="main" class="hidden">
    <h2>Witaj, <span id="userName"></span> z <span id="userPlatform"></span>!</h2>
    <p>Możesz teraz typować mecze!</p>
  </div>  <script>
    const registerForm = document.getElementById('register');
    const loginForm = document.getElementById('login');
    const mainDiv = document.getElementById('main');

    document.getElementById('showPasswordReg').addEventListener('change', e => {
      document.getElementById('regPassword').type = e.target.checked ? 'text' : 'password';
    });

    document.getElementById('showPasswordLogin').addEventListener('change', e => {
      document.getElementById('logPassword').type = e.target.checked ? 'text' : 'password';
    });

    function toggleForm() {
      registerForm.classList.toggle('hidden');
      loginForm.classList.toggle('hidden');
    }

    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    function register() {
      const nick = document.getElementById('regNick').value;
      const platform = document.getElementById('regPlatform').value;
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPassword').value;

      if (!validateEmail(email)) {
        alert("Podano nieprawidłowy email");
        return;
      }

      localStorage.setItem('ff_user', JSON.stringify({ nick, platform, password, email }));
      alert("Zarejestrowano! Możesz się zalogować.");
      toggleForm();
    }

    function login() {
      const nick = document.getElementById('logNick').value;
      const password = document.getElementById('logPassword').value;
      const stored = JSON.parse(localStorage.getItem('ff_user'));

      if (!stored || stored.nick !== nick || stored.password !== password) {
        alert("Błędny nick lub hasło!");
        return;
      }

      document.getElementById('userName').textContent = stored.nick;
      document.getElementById('userPlatform').textContent = stored.platform;
      document.getElementById('auth').classList.add('hidden');
      mainDiv.classList.remove('hidden');
    }
  </script></body>
</html>
